(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();function u(r){const t=document.getElementById("orderTable").getElementsByTagName("tbody")[0],s=t.insertRow(t.rows.length);for(const c of Object.values(r))s.insertCell().appendChild(document.createTextNode(c));myForm.reset()}function d(r){const t={date:new Date().toLocaleDateString(),productName:e.bookName,quantity:e.bookNum,packagingType:e.packaging?"Звичайне пакування":"Подарункове пакування",firstName:e.userName,lastName:e.userSurname,deliveryType:e.delPost||e.delHome?"доставка на пошту":"доставка до дому",userAdress:e.userAdress,price:e.total.toFixed(2)};u(t),r.preventDefault()}const i=document.querySelector(".shoping-cart-form"),m=document.querySelector(".book-price-output"),f=document.querySelector(".total-price-output"),l=document.querySelector(".calc-total-btn"),b=document.querySelector(".order-btn");let e={bookName:"",bookNum:1,delHome:!1,delPost:!0,packaging:!1,userName:"",userSurname:"",userAdress:"",bookPrice:0,total:0,basePrice:0};function p(r){const t=r.target;switch(t.name){case"bookName":e.bookName=t.value;const s=parseFloat(t[t.selectedIndex].dataset.price);e.basePrice=s;break;case"numerosity":e.bookNum=parseInt(t.value)||0;break;case"delivery":t.id==="post"?(e.delPost=t.checked,e.delHome=!1):t.id==="home"&&(e.delHome=t.checked,e.delPost=!1);break;case"packaging":e.packaging=t.checked;break;case"user-name":e.userName=t.value;break;case"user-surname":e.userSurname=t.value;break;case"user-adress":e.userAdress=t.value;break}k(),e.total<0?l.disabled=!0:l.disabled=!1}function k(){e.bookPrice=e.basePrice*e.bookNum,m.textContent=e.bookPrice.toFixed(2)}function g(){const r=e.bookPrice;e.delPost?e.total=r+5/100*r:e.delHome?e.total=r+15/100*r:e.total=r,e.packaging&&(e.total+=10/100*r),e.total!==0&&(b.disabled=!1),f.textContent=e.total.toFixed(2)}i.addEventListener("change",p);l.addEventListener("click",g);i.addEventListener("submit",d);
